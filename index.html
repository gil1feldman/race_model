<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>×‘×•×“×§ ××”×™×× ×•×ª ×œ×™×“×™×¢×” - ×©×™×˜×ª RACE</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      direction: rtl;
      padding: 20px;
      background: linear-gradient(to bottom, #e9f0f7, #fefefe);
      color: #222;
      line-height: 1.6;
      max-width: 850px;
      margin: auto;
    }

    h1 {
      color: #003366;
      font-size: 28px;
      margin-bottom: 10px;
      text-align: center;
      background-color: #d0e4f7;
      padding: 10px;
      border-radius: 10px;
    }

    #toggleBtn {
      background-color: transparent;
      color: #005fa3;
      border: none;
      font-size: 14px;
      text-decoration: underline;
      cursor: pointer;
      padding: 0;
      float: right;
      margin-bottom: 10px;
    }

    #toggleBtn.open::before {
      content: '-';
      margin-left: 5px;
    }

    #toggleBtn::before {
      content: '+';
      margin-left: 5px;
    }

    #explanation {
      background: #f3f7fb;
      border-right: 4px solid #aac8df;
      padding: 10px 14px;
      margin-bottom: 20px;
      border-radius: 5px;
      font-size: 15px;
      line-height: 1.5;
    }

    .hidden {
      display: none;
    }

    legend {
      font-weight: bold;
      font-size: 17px;
      margin-bottom: 10px;
      color: #1e3a5f;
    }

    fieldset {
      border: 1px solid #aac8df;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background-color: #f9fbfd;
    }

    .question {
      margin-bottom: 12px;
    }

    .question label {
      margin-left: 15px;
    }

    input[type="radio"] {
      margin-left: 5px;
    }

    input[type="file"] {
      padding: 8px;
      border: 1px solid #aaa;
      border-radius: 5px;
      background-color: #ffffff;
      width: 100%;
      box-sizing: border-box;
      margin-bottom: 10px;
    }

    #previewImage {
      display: none;
      max-width: 100%;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 12px 22px;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      display: block;
      margin: 20px auto;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    button:hover {
      background-color: #218838;
    }

    .result {
      margin-top: 25px;
      padding: 16px;
      border-radius: 8px;
      background: #e6f2ff;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      border: 1px solid #b3d1f0;
      white-space: pre-line;
    }
  </style>
</head>
<body>

<h1>×‘×•×“×§ ××”×™×× ×•×ª ×œ×™×“×™×¢×” - ×©×™×˜×ª RACE</h1>

<button id="toggleBtn" onclick="toggleExplanation()">××” ×–×” ×©×™×˜×ª RACE?</button>

<div id="explanation" class="hidden">
  <p><strong>RACE</strong> ×”×™× ×©×™×˜×” ×œ×–×™×”×•×™ ×•× ×™×ª×•×— ×××™× ×•×ª ×©×œ ×ª×•×›×Ÿ ×—×“×©×•×ª×™ ×—×©×•×“:</p>
  <ul style="margin-top: 0;">
    <li><strong>Recognize</strong> â€“ ×–×™×”×•×™ ×¡×™×× ×™× ××—×©×™×“×™× ×‘×ª×•×›×Ÿ.</li>
    <li><strong>Analyze</strong> â€“ × ×™×ª×•×— ×”××¡×¨: ×¢×•×‘×“×•×ª ××• ×¨×’×©?</li>
    <li><strong>Contextualize</strong> â€“ ×‘×“×™×§×ª ×”×§×©×¨ ×•×”×©×œ××•×ª.</li>
    <li><strong>Evaluate</strong> â€“ ×”×¢×¨×›×ª ××˜×¨×ª ×”×™×“×™×¢×”.</li>
  </ul>
</div>

<label for="imageUpload"><strong>×”×¢×œ×” ×ª××•× ×” ×©×œ ×”×™×“×™×¢×” ×©×‘×¨×¦×•× ×š ×œ×‘×“×•×§:</strong></label>
<input type="file" id="imageUpload" accept="image/*">
<img id="previewImage" src="" alt="×ª×¦×•×’×” ××§×“×™××” ×©×œ ×”×™×“×™×¢×”">

<form id="raceForm">
  <fieldset>
    <legend>1. ×–×™×”×•×™ (Recognize)</legend>
    <div class="question">×”×× ×™×© ×œ×™×“×™×¢×” ××§×•×¨ ××”×™××Ÿ?<br>
      <label><input type="radio" name="recognize1" value="2"> ×›×Ÿ</label>
      <label><input type="radio" name="recognize1" value="0"> ×œ×</label>
    </div>
    <div class="question">×”×× ××¦×•×™×Ÿ ××•×¢×“ ××• ×ª××¨×™×š ×‘×¨×•×¨?<br>
      <label><input type="radio" name="recognize2" value="2"> ×›×Ÿ</label>
      <label><input type="radio" name="recognize2" value="0"> ×œ×</label>
    </div>
    <div class="question">×”×× × ×¢×©×” ×©×™××•×© ×‘×©×¤×” ×“×¨××˜×™×ª ××• ×¨×’×©×™×ª ×××•×“?<br>
      <label><input type="radio" name="recognize3" value="0"> ×›×Ÿ</label>
      <label><input type="radio" name="recognize3" value="2"> ×œ×</label>
    </div>
  </fieldset>

  <fieldset>
    <legend>2. × ×™×ª×•×— (Analyze)</legend>
    <div class="question">×”×× ×”×™×“×™×¢×” ××ª×‘×¡×¡×ª ×‘×¢×™×§×¨ ×¢×œ ×¨×’×©×•×ª ×•×œ× ×¢×œ ×¢×•×‘×“×•×ª?<br>
      <label><input type="radio" name="analyze1" value="0"> ×›×Ÿ</label>
      <label><input type="radio" name="analyze1" value="2"> ×œ×</label>
    </div>
    <div class="question">×”×× ××•×¦×’ ×¨×§ ×¦×“ ××—×“ ×©×œ ×”×¡×™×¤×•×¨?<br>
      <label><input type="radio" name="analyze2" value="0"> ×›×Ÿ</label>
      <label><input type="radio" name="analyze2" value="2"> ×œ×</label>
    </div>
  </fieldset>

  <fieldset>
    <legend>3. ×”×§×©×¨ (Contextualize)</legend>
    <div class="question">×”×× × ×™×ª×Ÿ ×œ××¦×•× ××™×“×¢ ×“×•××” ×’× ×‘××§×•×¨×•×ª × ×•×¡×¤×™×?<br>
      <label><input type="radio" name="context1" value="2"> ×›×Ÿ</label>
      <label><input type="radio" name="context1" value="0"> ×œ×</label>
    </div>
    <div class="question">×”×× ×”×™×“×™×¢×” ××•×¦×’×ª ×‘×”×§×©×¨ ×”×¨×—×‘ ×©×œ×”?<br>
      <label><input type="radio" name="context2" value="2"> ×›×Ÿ</label>
      <label><input type="radio" name="context2" value="0"> ×œ×</label>
    </div>
  </fieldset>

  <fieldset>
    <legend>4. ×”×¢×¨×›×” (Evaluate)</legend>
    <div class="question">×”×× ××˜×¨×ª ×”×™×“×™×¢×” ×”×™× ×œ×¢×•×¨×¨ ×›×¢×¡, ×¤×—×“ ××• ×©× ××”?<br>
      <label><input type="radio" name="evaluate1" value="0"> ×›×Ÿ</label>
      <label><input type="radio" name="evaluate1" value="2"> ×œ×</label>
    </div>
    <div class="question">×”×× ×”×™×™×ª ××©×ª×£ ××ª ×”×™×“×™×¢×” ×›×¤×™ ×©×”×™×?<br>
      <label><input type="radio" name="evaluate2" value="2"> ×›×Ÿ</label>
      <label><input type="radio" name="evaluate2" value="0"> ×œ×</label>
    </div>
  </fieldset>

  <button type="button" onclick="calculateAndSummarize()">×—×©×‘ ×¦×™×•×Ÿ ×•×¡×›×</button>
</form>

<div class="result" id="result"></div>
<div class="result" id="summaryResult"></div>

<script>
  function toggleExplanation() {
    const explanation = document.getElementById("explanation");
    const toggleBtn = document.getElementById("toggleBtn");
    explanation.classList.toggle("hidden");
    toggleBtn.classList.toggle("open");
  }

  document.getElementById("imageUpload").addEventListener("change", function(event) {
    const file = event.target.files[0];
    const preview = document.getElementById("previewImage");

    if (file && file.type.startsWith("image/")) {
      const reader = new FileReader();
      reader.onload = function(e) {
        preview.src = e.target.result;
        preview.style.display = "block";
      };
      reader.readAsDataURL(file);
    } else {
      preview.src = "";
      preview.style.display = "none";
    }
  });

  function calculateAndSummarize() {
    const radios = document.querySelectorAll('input[type="radio"]:checked');
    let score = 0;
    radios.forEach(rb => score += parseInt(rb.value));
    const percent = Math.round((score / 18) * 100);
    let verdict = '';
    if (percent >= 80) verdict = 'âœ… ××”×™××Ÿ ×××•×“';
    else if (percent >= 60) verdict = 'ğŸŸ¡ ××”×™××Ÿ ×—×œ×§×™×ª';
    else if (percent >= 40) verdict = 'ğŸŸ  ×—×©×•×“';
    else verdict = 'ğŸ”´ ×ª×•×›×Ÿ ×× ×™×¤×•×œ×˜×™×‘×™';
    document.getElementById('result').innerText = `×¦×™×•×Ÿ: ${percent}% ××”×™×× ×•×ª\n×”×¢×¨×›×”: ${verdict}`;

    const questions = [
      { name: 'recognize1', pos: '×§×™×™× ××§×•×¨ ××”×™××Ÿ', neg: '×œ× ×§×™×™× ××§×•×¨ ××”×™××Ÿ' },
      { name: 'recognize2', pos: '×§×™×™× ××•×¢×“ ××• ×ª××¨×™×š ×‘×¨×•×¨', neg: '××™×Ÿ ××•×¢×“ ××• ×ª××¨×™×š ×‘×¨×•×¨' },
      { name: 'recognize3', pos: '×”×©×¤×” × ×™×˜×¨×œ×™×ª', neg: '×”×©×¤×” ×“×¨××˜×™×ª ××• ×¨×’×©×™×ª' },
      { name: 'analyze1', pos: '×”×™×“×™×¢×” ××‘×•×¡×¡×ª ×¢×œ ×¢×•×‘×“×•×ª', neg: '×”×™×“×™×¢×” ××‘×•×¡×¡×ª ×¢×œ ×¨×’×©×•×ª' },
      { name: 'analyze2', pos: '××•×¦×’×™× ×›××” ×¦×“×“×™× ×©×œ ×”×¡×™×¤×•×¨', neg: '××•×¦×’ ×¨×§ ×¦×“ ××—×“ ×©×œ ×”×¡×™×¤×•×¨' },
      { name: 'context1', pos: '×™×© ××™×“×¢ ×“×•××” ×‘××§×•×¨×•×ª × ×•×¡×¤×™×', neg: '××™×Ÿ ××™×“×¢ ×“×•××” ×‘××§×•×¨×•×ª × ×•×¡×¤×™×' },
      { name: 'context2', pos: '×”×”×§×©×¨ ×”×¨×—×‘ ×©×œ ×”×™×“×™×¢×” ×‘×¨×•×¨', neg: '×”×™×“×™×¢×” ×—×¡×¨×ª ×”×§×©×¨ ×¨×—×‘' },
      { name: 'evaluate1', pos: '×”×™×“×™×¢×” ××™× ×” ××›×•×•× ×ª ×œ×¢×•×¨×¨ ×¨×’×©×•×ª ×©×œ×™×œ×™×™×', neg: '×”×™×“×™×¢×” ××›×•×•× ×ª ×œ×¢×•×¨×¨ ×›×¢×¡, ×¤×—×“ ××• ×©× ××”' },
      { name: 'evaluate2', pos: '×”××©×™×‘ ×”×™×” ××©×ª×£ ××ª ×”×™×“×™×¢×”', neg: '×”××©×™×‘ ×œ× ×”×™×” ××©×ª×£ ××ª ×”×™×“×™×¢×”' }
    ];

    let positives = [], negatives = [];

    questions.forEach(q => {
      const selected = document.querySelector(`input[name="${q.name}"]:checked`);
      if (selected) {
        selected.value === "2" ? positives.push(q.pos) : negatives.push(q.neg);
      }
    });

    let output = "";

    if (positives.length > 0) {
      output += "âœ… ×”×™×‘×˜×™× ×”××—×–×§×™× ××ª ××”×™×× ×•×ª ×”×™×“×™×¢×”:\n- " + positives.join("\n- ") + "\n";
    }

    if (negatives.length > 0) {
      output += "\nâš ï¸ ×”×™×‘×˜×™× ×”××—×œ×™×©×™× ××ª ××”×™×× ×•×ª ×”×™×“×™×¢×”:\n- " + negatives.join("\n- ");
    }

    if (!output) {
      output = "×œ× × ×‘×—×¨×• ××¡×¤×™×§ ×ª×©×•×‘×•×ª ×œ×™×¦×™×¨×ª ×¡×™×›×•×.";
    }

    document.getElementById('summaryResult').innerText = output;
  }
</script>

</body>
</html>
